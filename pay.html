<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>自动脚本商城 - 付款页面</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .payment-box {
      max-width: 800px;
      margin: 60px auto;
      background: rgba(255,255,255,0.05);
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0,255,255,0.2);
    }
    .payment-box h2 {
      text-align: center;
      color: #00ffe5;
      margin-bottom: 20px;
    }
    .payment-details p {
      font-size: 1.1em;
      margin-bottom: 10px;
    }
    .footer-text {
      text-align: center;
      margin-top: 50px;
      color: #888;
      font-size: 0.9em;
    }
    .buy-button {
      margin-top: 10px;
    }
    .wallet-box {
      text-align: center;
      margin-top: 30px;
      padding: 20px;
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(0,255,255,0.1);
      border-radius: 10px;
    }
    .notice-box {
      margin-top: 40px;
      background: rgba(255,255,255,0.03);
      border-left: 4px solid #00ffe5;
      padding: 20px;
      border-radius: 8px;
      font-size: 1em;
      line-height: 1.7;
      color: #ccc;
    }
  </style>
</head>
<body>

<header class="header">
  <h1>自动脚本商城 - 付款页面</h1>
</header>

<div class="payment-box">
  <h2>请完成付款</h2>

  <div class="payment-details">
    <p><strong>产品类型：</strong><span id="product">加载中...</span></p >
    <p><strong>接收邮箱：</strong><span id="email">加载中...</span></p >
    <p><strong>付款金额：</strong><span id="amount">加载中...</span></p >
  </div>

  <div class="wallet-box">
    <p>请将 USDT (TRC20) 转账至以下地址：</p >
    <p><strong id="wallet">TFcnbLJJTrs3q8VcorY5BhysPPsKY9U5CB</strong></p >
    <button onclick="copyWallet()" class="buy-button">复制收款地址</button>
  </div>

  <div class="payment-details" style="margin-top: 30px;">
    <p>付款完成后，请填写链上交易哈希（TxID）：</p >
    <input type="text" id="txid" placeholder="输入交易哈希 TxID" style="width: 100%; padding: 10px; border-radius: 6px; margin-bottom: 10px;">
    <button class="buy-button">我已付款，提交订单</button>
  </div>

  <!-- 新增自动发货说明区域 -->
  <div class="notice-box">
    <strong>关于自动发货说明：</strong><br>
    系统会自动监听链上转账记录，当检测到您的钱包转账成功，且提交了对应的交易哈希（TxID）和邮箱后，<br>
    将在<strong>1分钟内自动发货</strong>。脚本将以附件形式发送至您填写的邮箱地址。无需联系客服、无需等待，<br>
    整个流程全自动处理，请放心付款。
  </div>
</div>

<div class="footer-text">
  <p>© 2025 自动脚本商城 - 所有权利保留</p >
</div>

<script>
  function getParam(name) {
    const url = new URL(window.location.href);
    return decodeURIComponent(url.searchParams.get(name) || "");
  }

  const productKey = getParam("product");
  const email = getParam("email");
  const wallet = document.getElementById("wallet").textContent;

  const productMap = {
    telegram_full: "Telegram 自动注册 + 群发脚本",
    tiktok_full: "TikTok 自动注册 + 群发脚本",
    twitter_full: "Twitter 自动注册 + 群发脚本",
    instagram_full: "Instagram 自动注册 + 群发脚本",
    facebook_full: "Facebook 自动注册 + 群发脚本",
    scraper_telegram: "Telegram 用户关键词采集脚本",
    scraper_reddit: "Reddit 热帖评论者采集脚本",
    scraper_twitter: "Twitter 推文 + 用户名采集脚本",
    scraper_tiktok: "TikTok 视频发布者采集脚本",
    scraper_youtube: "YouTube 评论者采集脚本",
    scraper_quora: "Quora 问答用户采集脚本",
    scraper_google: "Google 搜索关键词采集脚本",
    tiktok_live_ai: "TikTok AI 无人直播挂机脚本"
  };

  document.getElementById("product").textContent = productMap[productKey] || productKey;
  document.getElementById("email").textContent = email;

  // 修复金额显示错误：强匹配 key 名称，默认 29，特例 49
  let amount = "29";
  if (productKey === "tiktok_live_ai") {
    amount = "49";
  }
  if (!productMap[productKey]) {
    amount = "待确认";
  }
  document.getElementById("amount").textContent = `${amount} USDT`;

  function copyWallet() {
    navigator.clipboard.writeText(wallet).then(() => {
      alert("钱包地址已复制！");
    });
  }
</script>

</body>
</html>
