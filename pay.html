<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>自动脚本商城 - 付款页面</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .payment-box {
      max-width: 800px;
      margin: 60px auto;
      background: rgba(255,255,255,0.05);
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0,255,255,0.2);
    }
    .payment-box h2 {
      text-align: center;
      color: #00ffe5;
      margin-bottom: 20px;
    }
    .payment-details p {
      font-size: 1.1em;
      margin-bottom: 10px;
    }
    .qr-section {
      text-align: center;
      margin-top: 30px;
    }
    .qr-section img {
      width: 200px;
      border: 2px solid #00ffe5;
      border-radius: 8px;
    }
    .footer-text {
      text-align: center;
      margin-top: 50px;
      color: #888;
      font-size: 0.9em;
    }
    .buy-button {
      margin-top: 10px;
    }
  </style>
</head>
<body>

<header class="header">
  <h1>自动脚本商城 - 付款页面</h1>
</header>

<div class="payment-box">
  <h2>请完成付款</h2>

  <div class="payment-details">
    <p><strong>产品类型：</strong><span id="product">加载中...</span></p >
    <p><strong>接收邮箱：</strong><span id="email">加载中...</span></p >
    <p><strong>付款金额：</strong><span id="amount">USDT</span></p >
  </div>

  <div class="qr-section">
    <p>推荐使用 TronLink 或 TokenPocket 扫码付款：</p >
    <a id="qr-link" href=" " target="_blank">
      < img id="qr" src="" alt="扫码支付二维码">
    </a >
    <p style="margin-top: 10px; font-size: 0.9em; color: #aaa;">或复制以下地址手动转账：</p >
    <p><strong id="wallet">TFcnbLJJTrs3q8VcorY5BhysPPsKY9U5CB</strong></p >
    <button onclick="copyWallet()" class="buy-button">复制收款地址</button>
  </div>

  <div class="payment-details" style="margin-top: 30px;">
    <p>付款完成后，请填写链上交易哈希（TxID）：</p >
    <input type="text" id="txid" placeholder="输入交易哈希 TxID" style="width: 100%; padding: 10px; border-radius: 6px; margin-bottom: 10px;">
    <button class="buy-button">我已付款，提交订单</button>
  </div>
</div>

<div class="footer-text">
  <p>© 2025 自动脚本商城 - 所有权利保留</p >
</div>

<script>
  function getParam(name) {
    const url = new URL(window.location.href);
    return decodeURIComponent(url.searchParams.get(name) || "");
  }

  // 获取参数
  const productKey = getParam("product");
  const email = getParam("email");
  const wallet = document.getElementById("wallet").textContent;

  // 显示产品
  const productMap = {
    telegram_register: "Telegram 自动注册脚本",
    tiktok_register: "TikTok 自动注册脚本",
    twitter_register: "Twitter 自动注册脚本",
    instagram_register: "Instagram 自动注册脚本",
    facebook_register: "Facebook 自动注册脚本",
    telegram_spam: "Telegram 群发引流脚本",
    tiktok_spam: "TikTok 群发评论脚本",
    twitter_spam: "Twitter 推广群发脚本",
    facebook_spam: "Facebook 自动发帖脚本",
    instagram_spam: "Instagram 自动推广脚本",
    tiktok_live_ai: "TikTok AI 无人直播挂机脚本"
  };

  document.getElementById("product").textContent = productMap[productKey] || productKey;
  document.getElementById("email").textContent = email;

  // 设置金额
  let amountValue = "0";
  if (productKey.includes("register")) amountValue = "29";
  else if (productKey.includes("spam")) amountValue = "39";
  else if (productKey.includes("live_ai")) amountValue = "49";
  document.getElementById("amount").textContent = `${amountValue} USDT`;

  // 设置二维码（扫码带金额 + 备注）
  const tronTransferUrl = `tron:${wallet}?amount=${amountValue}&message=${productKey}-${email}`;
  const qrUrl = `https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=${encodeURIComponent(tronTransferUrl)}`;
  document.getElementById("qr").src = qrUrl;
  document.getElementById("qr-link").href = tronTransferUrl;

  function copyWallet() {
    navigator.clipboard.writeText(wallet).then(() => {
      alert("钱包地址已复制！");
    });
  }
</script>

</body>
</html>
